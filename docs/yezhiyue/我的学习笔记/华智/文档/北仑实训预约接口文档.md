## 接口文档需要提供的信息

管理员：

1. 宿舍管理，前端发送的请求的数据

- 查询宿舍信息 pageSize pageNum Obj条件
- 增加 Obj条件
- 修改 Obj条件
- 删除 Obj条件

2. 订单管理，前端发送的请求

- 查询订单信息 pageSize pageNum Obj条件
- 修改订单信息
- 删除订单信息
- 增加订单信息 

- 通过宿舍id查询到宿舍详情，如果管理员需要在修改订单的时候查看宿舍详情

客户端：

- 查询可用的宿舍 type startTime endTime
- 预定可用的宿舍 id startTime endTime
- 提交订单 Obj集合
- 修改订单 Obj集合
- 删除订单 Obj集合
- 查看订单 Obj条件 

表外键(包括我们)：
前端接口数据(包括部分外键)：

## 总订单

外键：user_id
前台接口：
后台处理：status\total

## 场地订单

- 分订单

外键：user_id\order_id
前台接口：space_name\unit_price\booking_period\orderDate\space_id 
后台处理：status\subtotal

## 宿舍订单

- 分订单

外键：user_id\order_id
前台接口：start_time\end_time   
后台处理：status\subtotal  \id

- 中间表

外键：order_id
前台接口：dormitory_name\unit_price\dormitory_id\start_time\end_time 
后台处理：subtotal 

## 就餐订单

- 就餐表

外键：user_id\order_id
前台接口：start_time\end_time 
后台处理：status\subtotal   \id

- 中间表

外键：order_id
前台接口：eat_item_name\eat_item_num\unit_price\eat_item_id
后台处理：eat_subtotal


## OrderVo

- 总订单接口

{
"carInfo":"宝马",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"1",
        "bookingPeriod":1,
        "orderDate":1000
    },
    {
        "spaceId":"2",
        "bookingPeriod":3,
        "orderDate":2000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":5,
        "dormitoryType":"二居室",
        "startTime":1000,
        "endTime":2000
    },
    {
        "dormitoryNumber":5,
        "dormitoryType":"四居室",
        "startTime":1000,
        "endTime":2000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":5,
        "startTime":1000,
        "endTime":2000
    },
    {
        "eatItemId":"2",
        "eatItemNum":5,
        "startTime":1000,
        "endTime":2000
    }
]
}

{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1000
    },
    {
        "spaceId":"4",
        "bookingPeriod":3,
        "orderDate":2000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":9,
        "dormitoryType":"二居室",
        "startTime":80,
        "endTime":3000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1000,
        "endTime":2000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":10,
        "endTime":2000
    },
    {
        "eatItemId":"1",
        "eatItemNum":5,
        "startTime":1000,
        "endTime":2000
    }
]
}

-- 价格计算测试用例

1 day 21 - 22

{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1595347200000
    },
    {
        "spaceId":"4",
        "bookingPeriod":3,
        "orderDate":1595347200000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":9,
        "dormitoryType":"二居室",
        "startTime":1595260800000,
        "endTime":1595347200000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1595260800000,
        "endTime":1595347200000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":1595260800000,
        "endTime":1595347200000
    },
    {
        "eatItemId":"1",
        "eatItemNum":5,
        "startTime":1595260800000,
        "endTime":1595347200000
    }
]
}

3 days 21 - 24

{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1595347200000
    },
    {
        "spaceId":"4",
        "bookingPeriod":3,
        "orderDate":1595347200000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":9,
        "dormitoryType":"二居室",
        "startTime":1595260800000,
        "endTime":1595520000000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1595260800000,
        "endTime":1595520000000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":1595260800000,
        "endTime":1595520000000
    },
    {
        "eatItemId":"1",
        "eatItemNum":5,
        "startTime":1595260800000,
        "endTime":1595520000000
    }
]
}

### 时间冲突测试用例

- 添加用例
2020-10-01 : 1601481600000
2020-10-02 : 1601568000000
// 1  场地
2020-10-03 : 1601654400000
2020-10-04 : 1601740800000
2020-10-05 : 1601827200000

预计：    unitPrice  subTotal
1. 场地     
2. 宿舍
3. 餐饮
4. 总计

{
"carInfo":"价格测试 3 天",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1601654400000
    },
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1601740800000
    },
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1601827200000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":3,
        "dormitoryType":"二居室",
        "startTime":1601654400000,
        "endTime":1601827200000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1601654400000,
        "endTime":1601827200000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":1601654400000,
        "endTime":1601827200000
    },
    {
        "eatItemId":"2",
        "eatItemNum":5,
        "startTime":1601654400000,
        "endTime":1601827200000
    }
]
}

// 4 天
2020-10-06 : 1601913600000
2020-10-07 : 1602000000000
2020-10-08 : 1602086400000
2020-10-09 : 1602172800000
2020-10-10 : 1602259200000

场地时间冲突测试

{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1595347200000
    },
    {
        "spaceId":"4",
        "bookingPeriod":3,
        "orderDate":1595347200000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":9,
        "dormitoryType":"二居室",
        "startTime":1595260800000,
        "endTime":1595520000000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1595260800000,
        "endTime":1595520000000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":1595260800000,
        "endTime":1595520000000
    },
    {
        "eatItemId":"1",
        "eatItemNum":5,
        "startTime":1595260800000,
        "endTime":1595520000000
    }
]
}

宿舍时间冲突测试



## DormitoryOrderAdminVo

- 宿舍订单增加接口

{
    "dormitoryOrderId":1,
    "relationDormitoryOrderAdminVos":[
        {
            "startTime":1000,
            "endTime":2000,
            "dormitoryType":"二居室",
            "dormitoryNumber":5
        },
        {
            "startTime":1000,
            "endTime":2000,
            "dormitoryType":"二居室",
            "dormitoryNumber":5
        }
    ]
}

- 宿舍订单修改接口

{
    "dormitoryOrderId":1,
    "relationDormitoryOrderAdminVos":[
        {
            "relationDormitoryOrderId":"1",
            "startTime":1000,
            "endTime":2000,
            "dormitoryType":"二居室",
            "dormitoryNumber":5
        },
        {
            "relationDormitoryOrderId":"2",
            "startTime":1000,
            "endTime":2000,
            "dormitoryType":"二居室",
            "dormitoryNumber":5
        }
    ]
}

## 其他

-- 查询所有同一个用户有关系的订单
select io.id,
       iso.order_id,
       ido.order_id,
       rdo.order_id,
       ieo.order_id,
       reio.order_id
from info_order io,
     info_space_order iso,
     info_dormitory_order ido,
     relation_dormitory_order rdo,
     info_eating_order ieo,
     relation_eating_item_order reio
where io.id = iso.order_id
  and io.id = ido.order_id
  and rdo.order_id = ido.id
  and io.id = ieo.order_id
  and reio.order_id = ieo.id;

-- 1. 删除所有订单
delete
from info_dormitory_order
where id > 2;
delete
from info_eating_order
where id > 2;
delete
from info_order
where id > 2;
delete
from info_space_order
where id > 2;
delete
from relation_eating_item_order
where id > 2;
delete
from relation_dormitory_order
where id > 2;

-- 2. 查看每一种订单和与之关联的详细信息
select io.id,
       io.user_id,
       io.car_info,
       io.status,
       io.total,
       io.deleted,
       iso.id,
       iso.order_id,
       iso.user_id,
       iso.space_name,
       iso.order_date,
       iso.unit_price,
       iso.booking_period,
       iso.subtotal,
       iso.status,
       iso.deleted,
       ido.id,
       ido.user_id,
       ido.order_id,
       ido.start_time,
       ido.end_time,
       ido.status,
       ido.subtotal,
       rdo.id,
       rdo.order_id,
       rdo.dormitory_id,
       rdo.dormitory_name,
       rdo.start_time,
       rdo.end_time,
       rdo.unit_price,
       rdo.subtotal,
       rdo.deleted,
       ieo.id,
       ieo.user_id,
       ieo.order_id,
       ieo.start_time,
       ieo.end_time,
       ieo.subtotal,
       ieo.status,
       ieo.deleted,
       reio.id,
       reio.eat_item_id,
       reio.order_id,
       reio.eat_item_name,
       reio.eat_item_num,
       reio.unit_price,
       reio.eat_subtotal,
       reio.deleted
from info_order io,
     info_space_order iso,
     info_dormitory_order ido,
     relation_dormitory_order rdo,
     info_eating_order ieo,
     relation_eating_item_order reio
where io.id = iso.order_id
  and io.id = ido.order_id
  and rdo.order_id = ido.id
  and io.id = ieo.order_id
  and reio.order_id = ieo.id
;

-- 3. 精简定案的关键信息
select io.id   order_id,
       io.status,
       io.total,
       io.deleted,
       iso.id  space_order_id,
       iso.order_id,
       iso.order_date,
       iso.unit_price,
       iso.booking_period,
       iso.subtotal,
       iso.status,
       iso.deleted,
       ido.id  dormitory_order_id,
       ido.order_id,
       ido.start_time,
       ido.end_time,
       ido.status,
       ido.subtotal,
       rdo.id  relation_dormitory_order_id,
       rdo.order_id,
       rdo.dormitory_id,
       rdo.dormitory_name,
       rdo.start_time,
       rdo.end_time,
       rdo.unit_price,
       rdo.subtotal,
       rdo.deleted,
       ieo.id  eationg_order_id,
       ieo.order_id,
       ieo.start_time,
       ieo.end_time,
       ieo.subtotal,
       ieo.status,
       ieo.deleted,
       reio.id relation_eationg_order_id,
       reio.eat_item_id,
       reio.order_id,
       reio.eat_item_num,
       reio.unit_price,
       reio.eat_subtotal,
       reio.deleted
from info_order io,
     info_space_order iso,
     info_dormitory_order ido,
     relation_dormitory_order rdo,
     info_eating_order ieo,
     relation_eating_item_order reio
where io.id = iso.order_id
  and io.id = ido.order_id
  and rdo.order_id = ido.id
  and io.id = ieo.order_id
  and reio.order_id = ieo.id
order by iso.id, rdo.id, reio.id
;

-- 预约测试：外键关联校验
select io.id   order_id,
       iso.id  space_order_id,
       iso.order_id,
       ido.id  dormitory_order_id,
       ido.order_id,
       rdo.id  relation_dormitory_order_id,
       rdo.order_id,
       ieo.id  eationg_order_id,
       ieo.order_id,
       reio.id relation_eationg_order_id,
       reio.order_id
from info_order io,
     info_space_order iso,
     info_dormitory_order ido,
     relation_dormitory_order rdo,
     info_eating_order ieo,
     relation_eating_item_order reio
where io.id = iso.order_id
  and io.id = ido.order_id
  and rdo.order_id = ido.id
  and io.id = ieo.order_id
  and reio.order_id = ieo.id
order by iso.id, rdo.id, reio.id;

-- 预约测试：价格信息校验
select io.id,
       io.total,
       iso.subtotal,
       iso.unit_price,
       iso.booking_period,
       ido.subtotal,
       ido.start_time,
       ido.end_time,
       rdo.unit_price,
       rdo.subtotal,
       ieo.subtotal,
       reio.eat_subtotal,
       reio.eat_item_num,
       reio.unit_price
from info_order io,
     info_space_order iso,
     info_dormitory_order ido,
     relation_dormitory_order rdo,
     info_eating_order ieo,
     relation_eating_item_order reio
where io.id = iso.order_id
  and io.id = ido.order_id
  and rdo.order_id = ido.id
  and io.id = ieo.order_id
  and reio.order_id = ieo.id
# and io.id = '1285476542687875072'
order by iso.id, rdo.id, reio.id;

-- 预约测试：时间冲突校验
select io.id  order_id,
       io.status,
       io.deleted,
       iso.id space_order_id,
       iso.order_date,
       iso.booking_period,
       iso.subtotal,
       iso.status,
       iso.deleted,
       ido.id dormitory_order_id,
       ido.start_time,
       ido.end_time,
       ido.status,
       ido.subtotal,
       rdo.id relation_dormitory_order_id,
       rdo.dormitory_id,
       rdo.dormitory_name,
       rdo.start_time,
       rdo.end_time,
       rdo.deleted
from info_order io,
     info_space_order iso,
     info_dormitory_order ido,
     relation_dormitory_order rdo
where io.id = iso.order_id
  and io.id = ido.order_id
  and rdo.order_id = ido.id
order by iso.id;


-- 删除数据库
delete
from info_order
where 1 = 1;
delete
from info_space_order
where 1 = 1;
delete
from info_dormitory_order
where 1 = 1;
delete
from relation_dormitory_order
where 1 = 1;
delete
from info_eating_order
where 1 = 1;
delete
from relation_eating_item_order
where 1 = 1;


select *
from info_space ins
where ins.id in (
    1)
;

-- 找出
select count(iso.id)
from info_space_order iso
where iso.order_date = 134
    and iso.booking_period = 3
    and iso.deleted = 0
    and iso.status = 0
   or iso.order_date = 134
    and iso.booking_period = 3
    and iso.deleted = 0
    and iso.status = 1
;

select count(iso.id)
from info_space_order iso
where iso.order_date = 134
  and iso.booking_period = 3
  and iso.deleted = 0
  and iso.status in (0, 1)
;

select *
from info_space_order iso
where iso.space_id;





-- 1. 找出被占用的场地id
select count(ins.id)
from info_space ins
where
   -- 找出某一天同时被占用period 1,2 的场地
            ins.id in (
            select iso.space_id
            from info_space_order iso
            where iso.order_date = 12324324
              and iso.booking_period = 1
              and iso.status in (1, 2)
              and iso.deleted = 0
        )
        and ins.id in (
        select iso.space_id
        from info_space_order iso
        where iso.order_date = 12324324
          and iso.booking_period = 2
          and iso.status in (1, 2)
          and iso.deleted = 0
    )
   -- 找出被占用period为 3 场地
   or ins.id in (
    select iso.space_id
    from info_space_order iso
    where iso.order_date = 12324324
      and iso.booking_period = 3
      and iso.status in (1, 2)
      and iso.deleted = 0
);

-- 2.找出剩余场地数量
select count(ins.id)
from info_space ins
where ins.id not in (
    select ins.id
    from info_space ins
    where
       -- 找出某一天同时被占用period 1,2 的场地
                ins.id in (
                select iso.space_id
                from info_space_order iso
                where iso.order_date = 12324324
                  and iso.booking_period = 1
                  and iso.status in (1, 2)
                  and iso.deleted = 0
            )
            and ins.id in (
            select iso.space_id
            from info_space_order iso
            where iso.order_date = 12324324
              and iso.booking_period = 2
              and iso.status in (1, 2)
              and iso.deleted = 0
        )
       -- 找出被占用period为 3 场地
       or ins.id in (
        select iso.space_id
        from info_space_order iso
        where iso.order_date = 12324324
          and iso.booking_period = 3
          and iso.status in (1, 2)
          and iso.deleted = 0
    )
);

-- 3.找出剩余场地的数量和类型
select *
from info_space ins
where ins.id not in (
    select ins.id
    from info_space ins
    where
       -- 找出某一天同时被占用period 1,2 的场地
                ins.id in (
                select iso.space_id
                from info_space_order iso
                where iso.order_date = 12324324
                  and iso.booking_period = 1
                  and iso.status in (1, 2)
                  and iso.deleted = 0
            )
            and ins.id in (
            select iso.space_id
            from info_space_order iso
            where iso.order_date = 12324324
              and iso.booking_period = 2
              and iso.status in (1, 2)
              and iso.deleted = 0
        )
       -- 找出被占用period为 3 场地
       or ins.id in (
        select iso.space_id
        from info_space_order iso
        where iso.order_date = 12324324
          and iso.booking_period = 3
          and iso.status in (1, 2)
          and iso.deleted = 0
    )
);

# 用户预约测试文档

### <a href="#_1" rel="nofollow" target="_self">总订单接口示例</a>
### <a href="#_2" rel="nofollow" target="_self">价格计算测试用例</a>
2.1 <a href="#_2.1" rel="nofollow" target="_self">添加用例</a>
2.2 <a href="#_2.2" rel="nofollow" target="_self">2天预约测试</a>
2.3 <a href="#_2.3" rel="nofollow" target="_self">4天预约</a>
### <a href="#_3" rel="nofollow" target="_self">时间冲突测试</a>
3.1 <a href="#_3.1" rel="nofollow" target="_self">场地冲突测试</a>
3.2 <a href="#_3.2" rel="nofollow" target="_self">宿舍冲突规划</a>
3.3 <a href="#_3.3" rel="nofollow" target="_self">宿舍冲突测试 1</a>
3.4 <a href="#_3.4" rel="nofollow" target="_self">宿舍冲突测试 2</a>
3.5 <a href="#_3.5" rel="nofollow" target="_self">宿舍冲突测试 3</a>

---

<a id="_1"></a>

## `总订单接口示例`

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

```java
{
"carInfo":"价格测试 3 天",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1601654400000
    },
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1601740800000
    },
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1601827200000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":3,
        "dormitoryType":"二居室",
        "startTime":1601654400000,
        "endTime":1601827200000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1601654400000,
        "endTime":1601827200000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":1601654400000,
        "endTime":1601827200000
    },
    {
        "eatItemId":"2",
        "eatItemNum":5,
        "startTime":1601654400000,
        "endTime":1601827200000
    }
]
}
```

---

<a id="_2"></a>

## `价格计算测试用例`

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

---

<a id="_2.1"></a>

**1. 添加用例**

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

```java
2020-10-01 : 1601481600000
2020-10-02 : 1601568000000
```

---

<a id="_2.2"></a>

**2. 2天预约测试**

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

2.1 测试数据

```java
2020-10-03 : 1601654400000
2020-10-04 : 1601740800000
2020-10-05 : 1601827200000
```

```java
{
"carInfo":"价格测试 2 天",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"3",
        "bookingPeriod":1,
        "orderDate":1601654400000
    },
    {
        "spaceId":"3",
        "bookingPeriod":2,
        "orderDate":1601740800000
    },
    {
        "spaceId":"3",
        "bookingPeriod":3,
        "orderDate":1601827200000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":3,
        "dormitoryType":"二居室",
        "startTime":1601654400000,
        "endTime":1601827200000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1601654400000,
        "endTime":1601827200000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":1601654400000,
        "endTime":1601827200000
    },
    {
        "eatItemId":"2",
        "eatItemNum":5,
        "startTime":1601654400000,
        "endTime":1601827200000
    }
]
}
```

2.2 测试预期

1. 场地 400*1 + 400*1 + 400*2  = 1600
2. 宿舍 200*2*3 + 400*2*2 (单价*时间*数量) = 1200 + 1600 = 2800
3. 餐饮 6*3 + 15*5 = 18 + 75 = 93
4. 总计 1400 + 2800 + 93 = 4293

2.3 实际效果

```java
场地分订单：SpaceOrder(id=null, spaceId=3, spaceName=场地三, orderDate=1601654400000, unitPrice=400.00, bookingPeriod=1, subtotal=400.00, status=1, orderId=1285805132180754432, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null, space=null)
场地分订单：SpaceOrder(id=null, spaceId=3, spaceName=场地三, orderDate=1601740800000, unitPrice=400.00, bookingPeriod=2, subtotal=400.00, status=1, orderId=1285805132180754432, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null, space=null)
场地分订单：SpaceOrder(id=null, spaceId=3, spaceName=场地三, orderDate=1601827200000, unitPrice=400.00, bookingPeriod=3, subtotal=800.00, status=1, orderId=1285805132180754432, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null, space=null)
```

```java
宿舍分订单：DormitoryOrder(id=1285805163755474944, startTime=1601654400000, endTime=1601827200000, status=1, subtotal=2800.00, orderId=1285805132180754432, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍一, dormitoryId=1, startTime=1601654400000, endTime=1601827200000, unitPrice=200.00, orderId=1285805163755474944, subtotal=400.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍23, dormitoryId=23, startTime=1601654400000, endTime=1601827200000, unitPrice=200.00, orderId=1285805163755474944, subtotal=400.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍31, dormitoryId=31, startTime=1601654400000, endTime=1601827200000, unitPrice=200.00, orderId=1285805163755474944, subtotal=400.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍三, dormitoryId=3, startTime=1601654400000, endTime=1601827200000, unitPrice=400.00, orderId=1285805163755474944, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍25, dormitoryId=25, startTime=1601654400000, endTime=1601827200000, unitPrice=400.00, orderId=1285805163755474944, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
```

```java
就餐分订单：EatingOrder(id=1285805165508694016, startTime=1601654400000, endTime=1601827200000, subtotal=93.00, status=1, orderId=1285805132180754432, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
就餐中间表订单： RelationEatingItemOrder(id=null, eatItemId=1, eatItemName=早餐, eatItemNum=3, unitPrice=6.00, eatSubtotal=18.00, orderId=1285805165508694016, weight=null, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
就餐中间表订单： RelationEatingItemOrder(id=null, eatItemId=2, eatItemName=中餐, eatItemNum=5, unitPrice=15.00, eatSubtotal=75.00, orderId=1285805165508694016, weight=null, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
```

```java
Space: 1600.00
Space: 2800.00
Space: 93.00
总价： 4493.00
```

2.4 结果

测试正确


---

<a id="_2.3"></a>

**3. 4天预约**

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>


```java
// 4 天
2020-10-06 : 1601913600000
2020-10-07 : 1602000000000
2020-10-08 : 1602086400000
2020-10-09 : 1602172800000
// 宿舍截止日期
2020-10-10 : 1602259200000
```

```java
{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"1",
        "bookingPeriod":1,
        "orderDate":1601913600000
    },
    {
        "spaceId":"2",
        "bookingPeriod":2,
        "orderDate":1602000000000
    },
    {
        "spaceId":"3",
        "bookingPeriod":3,
        "orderDate":1602086400000
    },
    {
        "spaceId":"4",
        "bookingPeriod":3,
        "orderDate":1602172800000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":9,
        "dormitoryType":"二居室",
        "startTime":1601913600000,
        "endTime":1602259200000
    },
    {
        "dormitoryNumber":2,
        "dormitoryType":"四居室",
        "startTime":1601913600000,
        "endTime":1602259200000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"1",
        "eatItemNum":3,
        "startTime":1601913600000,
        "endTime":1602259200000
    },
    {
        "eatItemId":"2",
        "eatItemNum":4,
        "startTime":1601913600000,
        "endTime":1602259200000
    },
    {
        "eatItemId":"3",
        "eatItemNum":5,
        "startTime":1601913600000,
        "endTime":1602259200000
    }
]
}
```

2.2 测试预期

1. 场地 200 + 300 + 2*400 + 2*200 = 1700
2. 宿舍 200*9*4 + 400*2*4 = 10400
3. 餐饮 6*3 + 15*4 + 10*5 = 128
4. 总计 1400 + 2800 + 93 = 4293

2.3 实际效果

```java
场地分订单：SpaceOrder(id=null, spaceId=1, spaceName=场地一, orderDate=1601913600000, unitPrice=200.00, bookingPeriod=1, subtotal=200.00, status=1, orderId=1285807647420977152, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null, space=null)
场地分订单：SpaceOrder(id=null, spaceId=2, spaceName=场地二, orderDate=1602000000000, unitPrice=300.00, bookingPeriod=2, subtotal=300.00, status=1, orderId=1285807647420977152, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null, space=null)
场地分订单：SpaceOrder(id=null, spaceId=3, spaceName=场地三, orderDate=1602086400000, unitPrice=400.00, bookingPeriod=3, subtotal=800.00, status=1, orderId=1285807647420977152, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null, space=null)
场地分订单：SpaceOrder(id=null, spaceId=4, spaceName=场地三, orderDate=1602172800000, unitPrice=200.00, bookingPeriod=3, subtotal=400.00, status=1, orderId=1285807647420977152, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null, space=null)
```

```java
宿舍分订单：DormitoryOrder(id=1285807651111964672, startTime=1601913600000, endTime=1602259200000, status=1, subtotal=10400.00, orderId=1285807647420977152, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍一, dormitoryId=1, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍23, dormitoryId=23, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍31, dormitoryId=31, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍39, dormitoryId=39, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍48, dormitoryId=48, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍56, dormitoryId=56, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍64, dormitoryId=64, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍72, dormitoryId=72, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍80, dormitoryId=80, startTime=1601913600000, endTime=1602259200000, unitPrice=200.00, orderId=1285807651111964672, subtotal=800.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍三, dormitoryId=3, startTime=1601913600000, endTime=1602259200000, unitPrice=400.00, orderId=1285807651111964672, subtotal=1600.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
宿舍中间表订单： RelationDormitoryOrder(id=null, dormitoryName=宿舍25, dormitoryId=25, startTime=1601913600000, endTime=1602259200000, unitPrice=400.00, orderId=1285807651111964672, subtotal=1600.00, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)4
```

```java
就餐分订单：EatingOrder(id=1285807653662101504, startTime=1601913600000, endTime=1602259200000, subtotal=128.00, status=1, orderId=1285807647420977152, userId=huh, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
就餐中间表订单： RelationEatingItemOrder(id=null, eatItemId=1, eatItemName=早餐, eatItemNum=3, unitPrice=6.00, eatSubtotal=18.00, orderId=1285807653662101504, weight=null, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
就餐中间表订单： RelationEatingItemOrder(id=null, eatItemId=2, eatItemName=中餐, eatItemNum=4, unitPrice=15.00, eatSubtotal=60.00, orderId=1285807653662101504, weight=null, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
就餐中间表订单： RelationEatingItemOrder(id=null, eatItemId=3, eatItemName=晚餐, eatItemNum=5, unitPrice=10.00, eatSubtotal=50.00, orderId=1285807653662101504, weight=null, createTime=null, updateTime=null, createBy=null, updateBy=null, version=null, deleted=null, extra=null, tenantId=null)
```

```java
Space: 1700.00
Space: 10400.00
Space: 128.00
总价： 12228.00
```

2.4 结果

测试正确

---

<a id="_4"></a>

## `时间冲突测试`

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>



---

<a id="_3.1"></a>

**1. 场地冲突测试**

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

```java
2020-11-01 : 1604160000000
2020-11-02 : 1604246400000
2020-11-03 : 1604332800000
2020-11-04 : 1604419200000
2020-11-05 : 1604505600000
2020-11-06 : 1604592000000
2020-11-07 : 1604678400000
2020-11-08 : 1604764800000
2020-11-09 : 1604851200000
```

2020

1.1 预定了 11-1 号的场地 1

```java
{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"1",
        "bookingPeriod":1,
        "orderDate":16019136045454
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"41",
        "eatItemNum":3,
        "startTime":1601913600000,
        "endTime":1602259200000
    },
    {
        "eatItemId":"2",
        "eatItemNum":4,
        "startTime":1601913600000,
        "endTime":1602259200000
    }
]
}
```

```java
{
    "code": 201,
    "msg": "Created",
    "data": true
}
```

1.2 再次预定 11-1 11-2 11-3 的场地1

```java
{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"1",
        "bookingPeriod":1,
        "orderDate":16019136045454
    },
    {
        "spaceId":"1",
        "bookingPeriod":1,
        "orderDate":1604246400000
    },
    {
        "spaceId":"1",
        "bookingPeriod":1,
        "orderDate":1604332800000
    }
],
"eatingOrderVos":[
    {
        "eatItemId":"41",
        "eatItemNum":3,
        "startTime":1601913600000,
        "endTime":1602259200000
    },
    {
        "eatItemId":"2",
        "eatItemNum":4,
        "startTime":1601913600000,
        "endTime":1602259200000
    }
]
}
```

```java
{
    "code": 10006,
    "msg": "场地日期选择有冲突",
    "data": "error"
}
```

1.3 预期是冲突

```java
{
    "code": 10006,
    "msg": "场地日期选择有冲突",
    "data": "error"
}
```

测试结果：和预期一样，正确

---

<a id="_3.2"></a>

**2. 宿舍冲突规划**

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

```java
/**
 2023-12-01 : 1701360000000
 2023-12-02 : 1701446400000
 2023-12-03 : 1701532800000 a
 2023-12-04 : 1701619200000 |
 2023-12-05 : 1701705600000 |
 2023-12-06 : 1701792000000 | b
 2023-12-07 : 1701878400000 | |
 2023-12-08 : 1701964800000 a |  c d
 2023-12-09 : 1702051200000   |  | |
 2023-12-10 : 1702137600000   |  | |
 2023-12-11 : 1702224000000   b  | d e
 2023-12-12 : 1702310400000      |   |
 2023-12-13 : 1702396800000      c   e
 2023-12-14 : 1702483200000
 2023-12-15 : 1702569600000
 2023-12-16 : 1702656000000
 2023-12-17 : 1702742400000
 2023-12-18 : 1702828800000
 2023-12-19 : 1702915200000
 */
```

---

<a id="_3.3"></a>

**3. 宿舍冲突测试 1 **

--- 

2023年12月

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

- 2023 年

1.1  3 - 8 同一时间订单重复提交测试

```java
{
"carInfo":"奥迪",
"trainProject":"实训项目",
"trainType":"实训工种",
"teacher":"授课老师",
"trainManager":"实训管理人员",
"spaceOrderVos":[
    {
        "spaceId":"1",
        "bookingPeriod":1,
        "orderDate":1671379200000
    }
],
"dormitoryOrderVos":[
    {
        "dormitoryNumber":9,
        "dormitoryType":"二居室",
        "startTime":1701532800000,
        "endTime":1701964800000
    }
]
}
```

```java
客户需求： 9
空宿舍数量： 26
Dormitory(id=1, dormitoryName=宿舍一, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=4, deleted=0, extra=0, tenantId=1)
Dormitory(id=23, dormitoryName=宿舍23, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=31, dormitoryName=宿舍31, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=39, dormitoryName=宿舍39, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=48, dormitoryName=宿舍48, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=56, dormitoryName=宿舍56, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=64, dormitoryName=宿舍64, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=72, dormitoryName=宿舍72, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=80, dormitoryName=宿舍80, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=88, dormitoryName=宿舍88, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=96, dormitoryName=宿舍96, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=104, dormitoryName=宿舍104, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=112, dormitoryName=宿舍112, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=2, dormitoryName=宿舍二, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=3, deleted=0, extra=0, tenantId=1)
Dormitory(id=24, dormitoryName=宿舍24, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=32, dormitoryName=宿舍32, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=40, dormitoryName=宿舍40, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=49, dormitoryName=宿舍49, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=57, dormitoryName=宿舍57, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=65, dormitoryName=宿舍65, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=73, dormitoryName=宿舍73, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=81, dormitoryName=宿舍81, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=89, dormitoryName=宿舍89, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=97, dormitoryName=宿舍97, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=105, dormitoryName=宿舍105, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=113, dormitoryName=宿舍113, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
```

1.2 3 - 8

```java
客户需求： 9
空宿舍数量： 17
Dormitory(id=88, dormitoryName=宿舍88, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=96, dormitoryName=宿舍96, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=104, dormitoryName=宿舍104, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=112, dormitoryName=宿舍112, dormitoryNo=3301, dormitoryType=二居室, location=北仑, floor=1, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=2, dormitoryName=宿舍二, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=3, deleted=0, extra=0, tenantId=1)
Dormitory(id=24, dormitoryName=宿舍24, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=32, dormitoryName=宿舍32, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=40, dormitoryName=宿舍40, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=49, dormitoryName=宿舍49, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=57, dormitoryName=宿舍57, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=65, dormitoryName=宿舍65, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=73, dormitoryName=宿舍73, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=81, dormitoryName=宿舍81, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=89, dormitoryName=宿舍89, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=97, dormitoryName=宿舍97, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=105, dormitoryName=宿舍105, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=113, dormitoryName=宿舍113, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
```

1.3 3 - 8

```java
{
    "code": 10003,
    "msg": "空宿舍的数量不足",
    "data": "error"
}
```

```java
需求： 9
空宿舍数量： 8
Dormitory(id=57, dormitoryName=宿舍57, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=65, dormitoryName=宿舍65, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=73, dormitoryName=宿舍73, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=81, dormitoryName=宿舍81, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=89, dormitoryName=宿舍89, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=97, dormitoryName=宿舍97, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=105, dormitoryName=宿舍105, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=113, dormitoryName=宿舍113, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
```

---

<a id="_3.4"></a>

**4. 宿舍冲突测试 2 **

---

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>

2023年12月

1.1  6-11日 用户开始时间包含在订单时间内

```java
{
    "code": 10003,
    "msg": "空宿舍的数量不足",
    "data": "error"
}
```

```java
客户需求： 9
空宿舍数量： 8
Dormitory(id=57, dormitoryName=宿舍57, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=65, dormitoryName=宿舍65, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=73, dormitoryName=宿舍73, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=81, dormitoryName=宿舍81, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=89, dormitoryName=宿舍89, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=97, dormitoryName=宿舍97, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=105, dormitoryName=宿舍105, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=113, dormitoryName=宿舍113, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
```

---

<a id="_3.5"></a>

**5. 宿舍冲突测试 3**

--- 

- <a href="#_top" rel="nofollow" target="_self">返回目录</a>
 
 
2023.12

1.1 11-13 用户结束时间和订单结束时间冲突测试

```java
客户需求： 9
空宿舍数量： 8
Dormitory(id=57, dormitoryName=宿舍57, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=65, dormitoryName=宿舍65, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=73, dormitoryName=宿舍73, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=81, dormitoryName=宿舍81, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=89, dormitoryName=宿舍89, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=97, dormitoryName=宿舍97, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=105, dormitoryName=宿舍105, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
Dormitory(id=113, dormitoryName=宿舍113, dormitoryNo=3302, dormitoryType=二居室, location=东仑, floor=2, unitPrice=200.00, lockNo=null, weight=0, createTime=0, updateTime=null, createBy=null, updateBy=null, version=0, deleted=0, extra=0, tenantId=1)
```
