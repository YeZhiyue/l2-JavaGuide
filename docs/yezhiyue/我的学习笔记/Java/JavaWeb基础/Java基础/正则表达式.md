# 正则表达式

<a id="_top"></a>

## `目录:`

### <a href="#_1" rel="nofollow" target="_self"><font size=5 color=CC3333 face=微软雅黑>常用语法</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_1.1" rel="nofollow" target="_self">普通字符、特殊字符、限定符</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_1.2" rel="nofollow" target="_self">贪婪和非贪婪匹配</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_1.3" rel="nofollow" target="_self">非捕获匹配</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_1.4" rel="nofollow" target="_self">定位符</a>
### <a href="#_2" rel="nofollow" target="_self"><font size=5 color=CC3333 face=微软雅黑>其他常用正则表达式</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_2.1" rel="nofollow" target="_self">中文字符匹配</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_2.2" rel="nofollow" target="_self">手机、邮箱、qq、url、身份证</a>
### <a href="#_3" rel="nofollow" target="_self"><font size=5 color=CC3333 face=微软雅黑>Java中使用正则表达式</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_3.1" rel="nofollow" target="_self">常用对象</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#_3.2" rel="nofollow" target="_self">工具</a>

---

<a id="_1"></a>

## `常用语法`

---

<a id="_1.1"></a>

**1. 普通字符、特殊字符、限定符**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*

符号 | 说明 | 举例
-- | -- | --
普通字符 | 普通字符包括没有显式指定为元字符的所有可打印和不可打印字符。这包括所有大写和小写字母、所有数字、所有标点符号和一些其他符号 | a-z A-Z 1-9 
特殊字符 | 匹配这些字符的时候需要特殊对待的字符，也就是说必须首先使字符"转义"，即，将反斜杠字符\ 放在它们前面。 | * + ？$ ^
限定符 | 限定符用来指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。 | * + ? {m,n}

---

<a id="_1.2"></a>

**2. 贪婪和非贪婪匹配**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*

匹配模式 | 特点
--- | ---
贪婪 | 限制符后面不跟上?
非贪婪 | 限制符后面跟上?

![在这里插入图片描述](https://img-blog.csdnimg.cn/2020072814185722.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMjMwMDA3,size_16,color_FFFFFF,t_70)

---

<a id="_1.3"></a>

**3. 非捕获匹配**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*


非捕获匹配：
(?:pattern)  匹配pattern但不获取匹配结果

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200727180719818.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMjMwMDA3,size_16,color_FFFFFF,t_70)

(?=pattern)  正向肯定匹配

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200727180733352.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMjMwMDA3,size_16,color_FFFFFF,t_70)

(?!pattern)  正向否定匹配

![在这里插入图片描述](https://img-blog.csdnimg.cn/2020072718074647.png)

(?<=pattern)  反向否定匹配

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200727180755181.png)

(?<!pattern)  反向否定匹配

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200727180804298.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMjMwMDA3,size_16,color_FFFFFF,t_70)

---

<a id="_1.4"></a>

**4. 定位符**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*

1.1 $ 匹配字符串末尾

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200728141558486.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMjMwMDA3,size_16,color_FFFFFF,t_70)

1.2 ^ 匹配字符串开头

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200728141832824.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMjMwMDA3,size_16,color_FFFFFF,t_70)

1.3 /B(非边界匹配)&&/b(边界匹配)

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200729104345355.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMjMwMDA3,size_16,color_FFFFFF,t_70)

---

<a id="_2"></a>

## `其他常用正则表达式`

---

<a id="_2.1"></a>

**1. 中文字符匹配**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*

[\u4e00-\u9fa5] 匹配任何中文字符

---

<a id="_2.2"></a>

**2. 手机、邮箱、qq、url、身份证**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*

规则	| 正则表达式语法  
--- | ---
一个或多个汉字 |	^[\u0391-\uFFE5]+$ 
邮政编码 |	^[1-9]\d{5}$
QQ号码 |	^[1-9]\d{4,10}$ 
邮箱 |	^[a-zA-Z_]{1,}[0-9]{0,}@(([a-zA-z0-9]-*){1,}\.){1,3}[a-zA-z\-]{1,}$ 
用户名 |（字母开头 + 数字/字母/下划线）	^[A-Za-z][A-Za-z1-9_-]+$
手机号码 |	^1[3|4|5|8][0-9]\d{8}$ 
URL |	^((http|https)://)?([\w-]+\.)+[\w-]+(/[\w-./?%&=]*)?$ 
18位身份证号 |	^(\d{6})(18|19|20)?(\d{2})([01]\d)([0123]\d)(\d{3})(\d|X|x)?$


---

<a id="_3"></a>

## `Java中使用正则表达式`

---

<a id="_3.1"></a>

**1. 常用对象**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*

1.1 打印所有匹配

```java
        Pattern compile = Pattern.compile(reg);
        Matcher matcher = compile.matcher(str);
        // 打印所有匹配
        while (matcher.find()) {
            System.out.println(matcher.group());
        }
```

1.2 判断整个字符串是否匹配

```java
        Pattern compile = Pattern.compile(reg);
        Matcher matcher = compile.matcher(str);
        // 判断整个字符串是否匹配
        boolean isMatches = matcher.matches();
```

---

<a id="_3.2"></a>

**2. 工具**

--- 

*<a href="#_top" rel="nofollow" target="_self">返回目录</a>*

```java
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
<<<<<<< HEAD
 * @author 叶之越
 * Description
 * Date 2020/7/28
 * Time 13:25
 * Mail 739153436@qq.com
=======
 * @author yzy
 * Description
 * Date 2020/7/28
 * Time 13:25

>>>>>>> 1d18854992f77a3f72366616aac27d18bf023e91
 */
public class RegUtils {

    public static void main(String[] args) {
        String str = "Hello World !";
        String reg = "[a-z]{2,4}?";
        // 获取匹配
        Matcher matcher = getMatcher(str, reg);
        // 打印分组匹配分组信息
        printGroupMsg(str, reg, Pattern.DOTALL);
        // 打印匹配字符
        printMatchString(str, reg, Pattern.DOTALL);


    }

    /**
     * @description 打印组别信息和开始结束下标
<<<<<<< HEAD
     * @author 叶之越
=======
     * @author yzy
>>>>>>> 1d18854992f77a3f72366616aac27d18bf023e91
     * @email 739153436@qq.com
     * @date 2020/7/28 13:16
     */
    public static void printGroupMsg(String str, String reg, int flag) {
        Matcher matcher = getMatcher(str, reg, flag);
        int count = 1;
        while (matcher.find()) {
            System.out.println("\n匹配号： " + count++ + "  组别：" + matcher.groupCount() + "  匹配到的字符串： " + matcher.group());
            System.out.println("开始下标：" + matcher.start() + "  结束下标：" + matcher.end());
        }
    }

    /**
     * @description 打印输出
<<<<<<< HEAD
     * @author 叶之越
=======
     * @author yzy
>>>>>>> 1d18854992f77a3f72366616aac27d18bf023e91
     * @email 739153436@qq.com
     * @date 2020/7/28 12:57
     */
    public static void printMatchString(String str, String reg, int flag) {
        Matcher matcher = getMatcher(str, reg, flag);
        while (matcher.find()) {
            System.out.println(matcher.group());
        }
    }

    /**
     * @description 获取Matcher对象
<<<<<<< HEAD
     * @author 叶之越
=======
     * @author yzy
>>>>>>> 1d18854992f77a3f72366616aac27d18bf023e91
     * @email 739153436@qq.com
     * @date 2020/7/28 12:55
     */
    public static Matcher getMatcher(String str, String reg, int flag) {
        return flag == -1 ? Pattern.compile(reg).matcher(str) : Pattern.compile(reg, flag).matcher(str);
    }

    /**
     * @description 获取Matcher对象
<<<<<<< HEAD
     * @author 叶之越
=======
     * @author yzy
>>>>>>> 1d18854992f77a3f72366616aac27d18bf023e91
     * @email 739153436@qq.com
     * @date 2020/7/28 12:55
     */
    public static Matcher getMatcher(String str, String reg) {
        return getMatcher(str, reg, -1);
    }
}
```